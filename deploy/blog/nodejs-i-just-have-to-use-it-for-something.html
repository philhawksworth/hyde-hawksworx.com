<!doctype html>

<html lang="en">
<head>
	<meta charset="utf-8"/> 
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Nodejs. I just have to use it for something</title>
    <meta name="description" content="Playing with NodeJS and Javascript for real-time fun and games.
">
    <meta name="author" content="Phil Hawksworth">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1">  -->

        <!-- Place favicon.ico & apple-touch-icon.png
    in the root of your domain and delete these references -->
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
        <link rel="stylesheet" href="/media/css/base.css">
    <link rel="stylesheet" href="/media/css/syntax.css">
                <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-119040-3']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
</head>
<body class="blog">
    <div class="header">
        <h1><a href="/" rel="self" title="hawksworx: home">hawksworx</a></h1>
        <h2>noodlings about the web, technology and whatnot</h2>
        <ul class="nav" role="navigtion">
            <li><a href="/" class="home">home</a></li>
            <li><a href="/blog" class="blog">blog</a></li>
            <li><a href="/blog/atom.xml" class="feed">feed</a></li>
        </ul>
    </div>
    <div class="content">
            <article class="post">
    <h1>Nodejs. I just have to use it for something <g:plusone size="small" annotation="none"></g:plusone></h1>
    <div class="meta">
        <time datetime="2010-02-15">
            posted on 15 Feb 2010
        </time> 
                 with the tags 
        <ul class="tags">
                    <li><a href="/blog/tags/javascript">javascript</a></li>
                    <li><a href="/blog/tags/jquery">jquery</a></li>
                    <li><a href="/blog/tags/nodejs">nodejs</a></li>
                    <li> and <a href="/blog/tags/mash-ups">mash-ups</a></li>
                </ul>
                <span class="permalink"><a href="/blog/nodejs-i-just-have-to-use-it-for-something">permalink</a><span></span></span>
    </div>

    <p><img src="/media/images/nodejs.png" alt="Getting started with NodeJS" />
<p class="excerpt">
  A little while ago, inspired by <a href="http://simonwillison.net/2009/Nov/23/node/">Simon Willison</a>&#8216;s demo of <a href="http://nodesjs.org">Nodejs</a> at the <a href="http://2009.full-frontal.org/">FullFrontal</a> conference, I felt the urge to make something, anything, using Nodejs. <a href="http://nodesjs.org">Nodejs</a> gives lightening fast, event driven <span class="caps">IO</span> with Javascript running server-side in the rather nippy <a href="http://code.google.com/p/v8/">V8</a> Javascript engine. Until <a href="http://nodesjs.org">Nodejs</a>, I hadn&#8217;t seen much need to bring Javascript to the server other than for testing and as a bit of a novelty. <a href="http://nodesjs.org">Nodejs</a> changed all of&nbsp;that.
</p>
<p>
    Built by <a href="http://tinyclouds.org/">Ryah Dahl</a> with a strict philosophy that none of its procedures should ever perform a blocking operation, it has a single threaded architecture and relies heavily on the use of a single event loop. Anyone with a good knowledge of Javascript or even just a familiarity with <a href="http://jquery.com">jQuery</a> will be familiar with the pattern of event handlers, callbacks and closures needed to build some really rather powerful things, quickly and easily with <a href="http://nodesjs.org">Nodejs</a>. For my part, I just wanted to make something to explore the ease in which <a href="http://nodesjs.org">Nodejs</a> could support comet-style long polling for some real-time, collaborative task. The Web is already getting flooded with examples of <a href="http://chat.nodejs.org/">chat rooms</a> and <span class="caps">IRC</span> servers built with <a href="http://nodesjs.org">Nodejs</a>, but I really wanted to make something that felt like a real web application, not an&nbsp;example.
</p>
<p>
    To that end, I resurrected an old idea which I first built circa 1999 for randomly choosing someone from a list to make the tea. Not earth-shattering, but a bit of fun and simple enough for me to see through to completion. For this incarnation, dubbed <a href="http://teafr.com">Teafr.com</a>, I piggybacked on the lists feature of <a href="http://twitter.com/philhawksworth/tea-buddies">Twitter</a> to allow people to create and manage their lists of potential tea-makers somewhere they are already comfortable. <a href="http://teafr.com">My app</a> would allow a user to recall a list of their choosing and then perform a lottery, selecting a winner (or loser) from the list at random. To add a little suspense (in the loosest possible sense) I added a basic animation which gradually got slower until the winner was&nbsp;revealed.
</p>
<img src="/media/images/teafr-tea-rotas-from-twitter-lists.jpg" />
<p>
    I captured a couple of <a href="http://www.vimeo.com/8144420">videos</a> showing teafr.com doing its stuff, <a href="http://www.vimeo.com/8457609">one of them</a> on an iPhone. The fun part of this for me was in allowing this lottery and the animation to be visible to everyone viewing the same list from wherever they are. <a href="http://nodesjs.org">Nodejs</a> makes it trivially simple to handle long-lived http requests so that all clients could listen out for the initiation of a new lottery event. Since this is all just lightweight <span class="caps">HTTP</span>, <span class="caps">HTML</span>, <span class="caps">CSS</span> and Javascript, it also runs pretty nicely on both my iPhone and Palm&nbsp;Pre.
</p>
<p>
    It is rather satisfying to stand next to someone who is viewing the site on a desktop machine, and then start their screen animating with a quick tap on your handset. Cheap thrills, I know. It seems to me though, that the cheapness of the thrills is what is so exciting. I&#8217;m no rocket scientist, and I managed to create this entire application, complete with real-time online views in a couple of evenings work. The short hop and low cognitive friction for a Javascript developer to be able to build these kind of things from end to end is incredibly liberating. I&#8217;m bursting at the seams with ideas for things I want to build, and am now capable of building with a new, powerful and yet familiar tool set. The only detail which kept my new toy from the masses was having a suitable place to host&nbsp;it.
</p>
<p>
    I&#8217;ve been using <a href="http://www.dreamhost.com/r.cgi?381199">Dreamhost</a> for a while now and have to say that I&#8217;m pretty happy with them, but even with the great level of control and access to your server that they give you, you need a little bit more control to compile and run <a href="http://nodesjs.org">Nodejs</a>. The easiest and cheapest way that I found to host <a href="http://nodesjs.org">Nodejs</a> powered site was with a dedicated virtual server. There is no shortage of providers in this space and as Web developers get more sophisticated, the use of this kind of solution is getting more commonplace. I opted for <a href="http://www.linode.com/?r=afc3f1becba08eb0ab33f62818cc90f396979563">Linode</a> which is working out rather nicely for me, but equally, I could have plumped for a similar offering from <a href="http://www.slicehost.com/">Slicehost</a> or <a href="http://aws.amazon.com/">Amazon Web Services</a>.
</p>
<p>
    I&#8217;ll soon migrate all of my sites onto the single Linux instance that they host for me. For now though, I need to resist the temptation to spend all of my spare time (ha!) noodling away with <a href="http://nodesjs.org">Nodejs</a>, <a href="http://www.mongodb.org">MongoDB</a>, <a href="http://jquery.com">jQuery</a> and various other fun things which &#8216;speak Javascript&#8217; that smart people on the Web keep on creating and selflessly sharing with the world for&nbsp;free.
</p></p>    
    <ul class="blog-nav">
        <!-- <a href="/blog">Back to the blog listing</a> -->
                <li>
            <a href="/blog/hitched" title="Hitched">More recent post</a>
            <p>Hitched</p>
        </li>
                        <li>
            <a href="/blog/in-defense-of-ie6" title="In defense of IE6">Earlier post</a>
            <p>In defense of IE6</p>
        </li>
            </ul>
    
    
    
    
</article>    </div>
    <div class="footer">
        <h1><a href="/" rel="self" title="hawksworx: home">hawksworx</a></h1>
        <h2>noodlings about the web, technology and whatnot</h2>
        <ul class="nav" role="navigtion">
            <li><a href="/" class="home">home</a></li>
            <li><a href="/blog" class="blog">blog</a></li>
            <li><a href="/blog/atom.xml" class="feed">feed</a></li>
        </ul>
        <p>
            Follow <a href="http://twitter.com/philhawksworth" rel="me">@philhawksworth</a> on twitter for more regular wibblings. This site is hand-whittled with some help from <a href="https://github.com/hyde/hyde">Hyde</a> and can be found on <a href="https://github.com/philhawksworth/hawksworx.com">Github</a>
        </p>
    </div>
    <!-- Place this render call where appropriate -->
    <script type="text/javascript">
      window.___gcfg = {lang: 'en-GB'};
      (function() {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script>
</body>
</html>